!function(){angular.module("bsLoadingOverlay",[])}(),function(){function a(g,b,d,e,f,c){function h(t,s,u){function n(){var y=c.getGlobalConfig();k=u.bsLoadingOverlayReferenceId||u.bsLoadingOverlay,p=+u.bsLoadingOverlayDelay||y.delay,r=u.bsLoadingOverlayActiveClass||y.activeClass;var x=u.bsLoadingOverlayTemplateUrl||y.templateUrl;j=x?d(x):e.when(!1),j.then(function(z){q=g(z)(t),q.isAttached=!1,o(k)});var w=b.$on("bsLoadingOverlayUpdateEvent",function(A,z){z.referenceId===k&&o(k)});s.on("$destroy",w)}function o(w){c.isActive(w)?q.isAttached||l():q.isAttached&&v()}function l(){p?(m&&f.cancel(m),m=f(angular.noop,p)):m=e.when(),s.append(q),q.isAttached=!0,s.addClass(r)}function v(){q.isAttached=!1,m.then(function(){q.detach(),s.removeClass(r)})}var q,k,r,j,p,m;n()}var i={restrict:"EA",link:h};return i}angular.module("bsLoadingOverlay").directive("bsLoadingOverlay",a),a.$inject=["$compile","$rootScope","$templateRequest","$q","$timeout","bsLoadingOverlayService"]}(),function(){function a(k,g){function c(o){o=o||{},n[o.referenceId]=!0,i(o.referenceId)}function d(p,o){var q=p;return angular.isFunction(p)||(q=function(){return p}),g.when(l.start(o)).then(q)["finally"](l.stop.bind(l,o))}function j(o){return{start:c.bind(null,o),stop:h.bind(null,o),wrap:function(p){return d(p,o)}}}function i(o){k.$emit("bsLoadingOverlayUpdateEvent",{referenceId:o})}function h(o){o=o||{},delete n[o.referenceId],i(o.referenceId)}function m(o){return n[o]}function e(o){f=angular.extend(f,o)}function b(){return f}var l={start:c,stop:h,isActive:m,createHandler:j,wrap:d,setGlobalConfig:e,getGlobalConfig:b},n={},f={};return l}angular.module("bsLoadingOverlay").factory("bsLoadingOverlayService",a),a.$inject=["$rootScope","$q"]}();