define(["ngAMD"],function(ngAMD){ngAMD.service("posService",["$state","$window","$rootScope","$document","$timeout",function($state,$window,$rootScope,$document,$timeout){function gotoPosPage(one){var state=one.routing.split(";")[0],url=one.routing.split(";")[1];$state.get(state)||$rootScope.stateProvider.state(state,ngAMD.route({url:url,templateUrl:"resources/page/"+one.template,controllerUrl:one.ctrl})),$state.go(state)}return{gotoPos:function(one){gotoPosPage(one)},goBack:function(){$window.history.back()},listenerKey:function(mewnuShot){$document.bind("keydown",function(event){if(event&&event.target.nodeName==="INPUT")return;var keyCode=window.event?event.keyCode:event.which;angular.forEach(mewnuShot,function(menu){keyCode+""===menu.keyCode&&gotoPosPage(menu)})})},setFocus:function(elementId){return $timeout(function(){var element=angular.element(document.getElementById(elementId));element[0].focus()},200)}}}]),ngAMD.directive("autoFocus",["$timeout",function($timeout){return function(scope,element){var timer=$timeout(function(){element[0].focus()},200);scope.$on("$destroy",function(){$timeout.cancel(timer)})}}])});