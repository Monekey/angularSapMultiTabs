define(["require","css!score_rule_css","css!company_css"],function(require){var app=require("css!score_rule_css"),shopCss=require("css!company_css");return["$scope","ajaxService","$rootScope","register","appConstant","$state","getCookieService",function($scope,ajaxService,$rootScope,register,appConstant,$state,cookie){var sessionId=cookie.getCookie("CRMSESSIONID"),result={};$scope.edit=!0,ajaxService.AjaxPost({sessionId:sessionId},"baseData/companyManager/load.do").then(function(result){$scope.company=result.data,$scope.company.city="",$scope.company.ifEnable==1?$scope.company.ifEnable=="已开通":$scope.company.ifEnable=="未开通";var cityId=($scope.company.cityId+"").substr(0,4),cityName;require(["../../../../../lib/city/"+($scope.company.cityId+"").substr(0,2)],function(city,callBack){city.subAreas.forEach(function(cityed){if(cityed.id==cityId){$scope.company.city=cityed.name,$scope.$apply();return}})})}),$scope.gotoEdit=function(company){$rootScope.company=company,$state.go("editcompany")},$scope.openNew=function(company){company.callback=function a(callback){};var param={title:"修改集团信息",id:"company"+company.id,template:"basedata/companymanager/companyEdit.html",ctrl:"basedata/companymanager/companyEdit",ctrlName:"companyUpdateCtrl",ng_show:!1,type:"single",from:10009};register.addToTabs(param,company)}}]});