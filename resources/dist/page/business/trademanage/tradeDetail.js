define(["require","ngAMD","angular"],function(require){var ngAMD=require("ngAMD"),angular=require("angular");ngAMD.controller("tradeDetailCtrl",["$scope","appConstant","ajaxService","register","$rootScope",function($scope,appConstant,ajaxService,register,$rootScope){var tabData=$rootScope.TabsData,data=angular.copy(tabData),sessionId=$rootScope.sessionId;$scope.tradeinfo=data,$scope.from=data.from;var tradecustomercopy=null,moneybalance=0,scorebalance=0;if(data.viewType===1||data.viewType===4){var searchkey={txCode:data.txCode,sessionId:sessionId,cardId:data.cardId};ajaxService.AjaxPost(searchkey,"trade/indexpage/tradeCustomerInfo.do").then(function(result){$scope.tradeCustomers=result.data,tradecustomercopy=angular.copy($scope.tradeCustomers),$scope.tradeinfo.balanceMoney=result.data.cardBalance,$scope.tradeinfo.balanceScroe=result.data.cardScore})}$scope.cancel=function(){register.switchTab({id:$scope.from})}}])});