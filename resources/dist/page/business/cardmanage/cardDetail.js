define(["require","ngAMD","angular"],function(require){var ngAMD=require("ngAMD"),angular=require("angular");ngAMD.controller("cardDetailCtrl",["$scope","appConstant","ajaxService","register","$rootScope",function($scope,appConstant,ajaxService,register,$rootScope){var tabData=$rootScope.TabsData,data=angular.copy(tabData);$scope.baseCardUsed=data,$scope.from=data.from,$scope.title="",$scope.chargeAccountObj={},$scope.scoreAccountObj={},$scope.donateAccountObj={},$scope.timesAccountObj={},ajaxService.AjaxPost({sessionId:$rootScope.sessionId,cardId:$scope.baseCardUsed.id},"cardmanage/bmCardAccount/cardAccountDetail.do").then(function(result){var resultArray=result.data;if(resultArray&&resultArray.length>0)for(var i=0;i<resultArray.length;i++)resultArray[i].cardAccountTypeId==1?$scope.chargeAccountObj=resultArray[i]:resultArray[i].cardAccountTypeId==2?$scope.scoreAccountObj=resultArray[i]:resultArray[i].cardAccountTypeId==3?$scope.donateAccountObj=resultArray[i]:resultArray[i].cardAccountTypeId==4&&($scope.timesAccountObj=resultArray[i])}),$scope.cancel=function(){register.switchTab({id:$scope.from})},$scope.doTradeDetail=function(baseCardUsed){register.openTabWithRequest({id:10015},{searchType:1,searchTypeValue:baseCardUsed.number})}}])});