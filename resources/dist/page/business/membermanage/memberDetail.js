define(["require","ngAMD","angular","css!../../../assets/css/members"],function(require){var ngAMD=require("ngAMD"),angular=require("angular"),membersCss=require("css!../../../assets/css/members");ngAMD.controller("memberDetailCtrl",["$scope","appConstant","ajaxService","register","$rootScope",function($scope,appConstant,ajaxService,register,$rootScope){function getNationName(nationCode){var nationName=null;if(nationCode!=null&&nationCode!=""){var nationList=appConstant.nationList;for(var i=0;i<nationList.length;i++)if(nationCode==parseInt(nationList[i].value)){nationName=nationList[i].name;break}}return nationName}function getcardKindName(cardKind){var cardKindName=null;if(cardKind!=null&&cardKind!=""){var cardKindList=appConstant.cardKindList;for(var i=0;i<cardKindList.length;i++)if(cardKind==parseInt(cardKindList[i].value)){cardKindName=cardKindList[i].name;break}}return cardKindName}var tabData=$rootScope.TabsData,data=angular.copy(tabData);$scope.member=data,$scope.member.cardKind!=null&&($scope.member.cardKind=$scope.member.cardKind+""),$scope.member.nation!=null&&($scope.member.nation=$scope.member.nation+""),$scope.member.birthdayType="0",$scope.from=data.from;var memberId=$scope.member.id;$scope.nationList=appConstant.nationList,$scope.meberNationName=getNationName($scope.member.nation),$scope.cardKindName=getcardKindName($scope.member.cardKind),ajaxService.AjaxPost({sessionId:$rootScope.sessionId,id:memberId},"businessmanage/memberManage/memberRelationship.do").then(function(result){$scope.memberRlationships=result.data,$scope.myInviteMembers=[];var inviteIds=$scope.memberRlationships.inviteIds,inviteNames=$scope.memberRlationships.inviteNames,inviteSexs=$scope.memberRlationships.inviteSexs,invitePhotos=$scope.memberRlationships.invitePhotos;if(inviteIds&&inviteIds!=""){var inviteIdArray=inviteIds.split(","),inviteNameArray=inviteNames.split(","),inviteSexArray=inviteSexs.split(","),invitePhotoArray=invitePhotos.split(",");for(var i=0;i<inviteIdArray.length;i++){var obj={};obj.id=inviteIdArray[i],obj.name=inviteNameArray[i],obj.sex=inviteSexArray[i],obj.photo=invitePhotoArray[i],$scope.myInviteMembers.push(obj)}}}),ajaxService.AjaxPost({sessionId:$rootScope.sessionId,id:memberId},"businessmanage/memberBehavior/memberBehavior.do").then(function(result){$scope.myBeaviors=result.data})}])});